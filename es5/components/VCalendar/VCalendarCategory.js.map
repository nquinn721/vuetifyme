{"version":3,"sources":["../../../src/components/VCalendar/VCalendarCategory.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VCalendarCategory.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport VCalendarDaily from './VCalendarDaily'\n\n// Util\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { CalendarTimestamp } from 'types'\nimport props from './util/props'\n\n/* @vue/component */\nexport default VCalendarDaily.extend({\n  name: 'v-calendar-category',\n\n  props: props.category,\n\n  computed: {\n    classes (): object {\n      return {\n        'v-calendar-daily': true,\n        'v-calendar-category': true,\n        ...this.themeClasses,\n      }\n    },\n    parsedCategories (): string[] {\n      return typeof this.categories === 'string' && this.categories\n        ? this.categories.split(/\\s*,\\s*/)\n        : Array.isArray(this.categories)\n          ? this.categories.map((v: any) => {\n            const categoryName = this.parsedCategoryText(v)\n            if (typeof v === 'string') v = { name: v }\n            v.categoryName = categoryName\n            return v\n          }) as string[]\n          : []\n    },\n  },\n  methods: {\n    parsedCategoryText (category: any): string {\n      return typeof this.categoryText === 'string'\n        ? category[this.categoryText as string]\n        : this.categoryText(category) as string\n    },\n    genDayHeader (day: CalendarTimestamp, index: number): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n      const scope = {\n        week: this.days, ...day, index,\n      }\n\n      const children = this.parsedCategories.map(category => {\n        return this.genDayHeaderCategory(day, this.getCategoryScope(scope, category))\n      })\n\n      return [this.$createElement('div', data, children)]\n    },\n    getCategoryScope (scope: any, category: any) {\n      return {\n        ...scope,\n        category: category.categoryName === this.categoryForInvalid ? null : category,\n      }\n    },\n    genDayHeaderCategory (day: CalendarTimestamp, scope: any): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__column-header',\n        on: this.getDefaultMouseEventHandlers(':day-category', e => {\n          return this.getCategoryScope(this.getSlotScope(day), scope.category)\n        }),\n      }, [\n        getSlot(this, 'category', scope) || this.genDayHeaderCategoryTitle(scope.category && scope.category.categoryName),\n        getSlot(this, 'day-header', scope),\n      ])\n    },\n    genDayHeaderCategoryTitle (categoryName: any) {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__category',\n      }, categoryName === null ? this.categoryForInvalid : categoryName)\n    },\n    genDays (): VNode[] {\n      const d = this.days[0]\n      let days = this.days.slice()\n      days = new Array(this.parsedCategories.length)\n      days.fill(d)\n      return days.map((v, i) => this.genDay(v, 0, i))\n    },\n    genDay (day: CalendarTimestamp, index: number, categoryIndex: number): VNode {\n      const category = this.parsedCategories[categoryIndex]\n      return this.$createElement('div', {\n        key: day.date + '-' + categoryIndex,\n        staticClass: 'v-calendar-daily__day',\n        class: this.getRelativeClasses(day),\n        on: this.getDefaultMouseEventHandlers(':time', e => {\n          return this.getSlotScope(this.getTimestampAtEvent(e, day))\n        }),\n      }, [\n        ...this.genDayIntervals(index, category),\n        ...this.genDayBody(day, category),\n      ])\n    },\n    genDayIntervals (index: number, category: any): VNode[] {\n      return this.intervals[index].map(v => this.genDayInterval(v, category))\n    },\n    genDayInterval (interval: CalendarTimestamp, category: any): VNode {\n      const height: string | undefined = convertToUnit(this.intervalHeight)\n      const styler = this.intervalStyle || this.intervalStyleDefault\n\n      const data = {\n        key: interval.time,\n        staticClass: 'v-calendar-daily__day-interval',\n        style: {\n          height,\n          ...styler({ ...interval, category }),\n        },\n      }\n\n      const children = getSlot(this, 'interval', () => \n        this.getCategoryScope(this.getSlotScope(interval), category)\n      )\n\n      return this.$createElement('div', data, children)\n    },\n    genDayBody (day: CalendarTimestamp, category: any): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n\n      // const children = this.parsedCategories.map(category => this.genDayBodyCategory(day, category))\n      const children = [this.genDayBodyCategory(day, category)]\n\n      return [this.$createElement('div', data, children)]\n    },\n    genDayBodyCategory (day: CalendarTimestamp, category: any): VNode {\n      const data = {\n        staticClass: 'v-calendar-category__column',\n        on: this.getDefaultMouseEventHandlers(':time-category', e => {\n          return this.getCategoryScope(this.getSlotScope(this.getTimestampAtEvent(e, day)), category)\n        }),\n      }\n\n      const children = getSlot(this, 'day-body', () => this.getCategoryScope(this.getSlotScope(day), category))\n\n      return this.$createElement('div', data, children)\n    },\n  },\n})\n"],"sourceRoot":"","file":"VCalendarCategory.js"}